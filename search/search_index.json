{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"MCP Dota 2 Match Analysis Server","text":"<p>A Model Context Protocol (MCP) server that gives LLMs the ability to analyze Dota 2 matches by parsing replay files and querying the OpenDota API.</p>"},{"location":"#what-this-does","title":"What This Does","text":"<p>This server exposes tools and resources that an LLM can call to answer questions about Dota 2 matches:</p> <ul> <li>\"Why did we lose the teamfight at 25 minutes?\"</li> <li>\"How did the enemy Anti-Mage get such a fast Battle Fury?\"</li> <li>\"When did Roshan die and who took the Aegis?\"</li> <li>\"Show me what happened when I died at minute 12\"</li> </ul> <p>The LLM reads the replay data and provides analysis based on actual game events, not guesswork.</p>"},{"location":"#how-mcp-works","title":"How MCP Works","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   LLM Client    \u2502 \u2500\u2500MCP\u2500\u2500 \u2502   This Server   \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u25b8 \u2502  Replay Parser  \u2502\n\u2502 (Claude, GPT)   \u2502         \u2502                 \u2502         \u2502  OpenDota API   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                           \u2502\n         \u2502   \"Analyze match 123\"     \u2502\n         \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b8\u2502\n         \u2502                           \u2502\n         \u2502                           \u2502\u2500\u2500 calls get_hero_deaths(123)\n         \u2502                           \u2502\u2500\u2500 calls get_combat_log(123, ...)\n         \u2502                           \u2502\u2500\u2500 calls get_objective_kills(123)\n         \u2502                           \u2502\n         \u2502   structured JSON data    \u2502\n         \u2502 \u25c2\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n         \u2502                           \u2502\n         \u25bc                           \u25bc\n   LLM synthesizes response: \"The fight was lost because...\"\n</code></pre> <p>Resources = Static data the LLM can reference (hero list, map positions) Tools = Functions the LLM can call with parameters (get deaths, get combat log)</p>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#1-install","title":"1. Install","text":"<pre><code>git clone https://github.com/DeepBlueCoding/mcp_replay_dota2.git\ncd mcp_replay_dota2\nuv sync\n</code></pre>"},{"location":"#2-connect-to-your-llm","title":"2. Connect to Your LLM","text":"<p>See Configuration for setup with:</p> <ul> <li>Claude Desktop</li> <li>Claude Code CLI</li> <li>OpenAI + LangChain</li> <li>Custom Python clients</li> </ul>"},{"location":"#3-ask-questions","title":"3. Ask Questions","text":"<p>Once connected, just ask naturally:</p> <p>\"Analyze match 8461956309. Why did Radiant lose?\"</p> <p>The LLM will automatically call the appropriate tools and synthesize an analysis.</p>"},{"location":"#available-tools","title":"Available Tools","text":"Tool What It Does <code>get_hero_deaths</code> All deaths with killer, victim, ability used <code>get_combat_log</code> Damage events, abilities, modifiers in a time range <code>get_fight_combat_log</code> Auto-detects fight boundaries around a death <code>get_item_purchases</code> When each item was bought <code>get_objective_kills</code> Roshan, towers, barracks timings <code>get_match_timeline</code> Net worth, XP, KDA over time <code>get_stats_at_minute</code> Snapshot of all players at a specific minute <code>get_courier_kills</code> Courier snipes with position"},{"location":"#available-resources","title":"Available Resources","text":"URI Data <code>dota2://heroes/all</code> All 124 heroes with attributes <code>dota2://map</code> Tower, camp, rune, landmark positions <code>dota2://match/{id}/heroes</code> 10 heroes in match with stats <code>dota2://match/{id}/players</code> 10 players with names and heroes"},{"location":"#example-conversations","title":"Example Conversations","text":"<p>See Use Cases for detailed examples:</p> <ul> <li>Analyzing why a teamfight was lost</li> <li>Tracking a carry's item timings</li> <li>Understanding a gank that went wrong</li> <li>Comparing laning phase performance</li> </ul>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p>"},{"location":"changelog/#unreleased","title":"[Unreleased]","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>MCP Resources: <code>dota2://heroes/all</code>, <code>dota2://map</code>, <code>dota2://match/{match_id}/heroes</code>, <code>dota2://match/{match_id}/players</code></li> <li>MCP Tools: <code>get_match_timeline</code>, <code>get_stats_at_minute</code>, <code>get_hero_deaths</code>, <code>get_combat_log</code>, <code>get_fight_combat_log</code>, <code>get_item_purchases</code>, <code>get_courier_kills</code>, <code>get_objective_kills</code></li> <li>Map data with tower, barracks, neutral camp, rune, and landmark positions</li> <li>Combat log parsing with fight detection</li> <li>Timeline parsing from replay metadata</li> <li>Hero fuzzy search for name matching</li> <li>MkDocs documentation with Material theme</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>N/A</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>N/A</li> </ul>"},{"location":"api/resources/","title":"Resources Reference","text":"<p>Resources are static data the LLM can include as context. Access via URI.</p>"},{"location":"api/resources/#dota2heroesall","title":"dota2://heroes/all","text":"<p>All 124+ Dota 2 heroes.</p> <pre><code>{\n  \"npc_dota_hero_antimage\": {\n    \"hero_id\": 1,\n    \"canonical_name\": \"Anti-Mage\",\n    \"aliases\": [\"am\", \"antimage\", \"anti-mage\"],\n    \"attribute\": \"agility\",\n    \"attack_type\": \"melee\",\n    \"roles\": [\"Carry\", \"Escape\", \"Nuker\"]\n  },\n  \"npc_dota_hero_axe\": {\n    \"hero_id\": 2,\n    \"canonical_name\": \"Axe\",\n    \"attribute\": \"strength\"\n  }\n}\n</code></pre> <p>Use for: Hero name resolution, attribute lookups, role classification.</p>"},{"location":"api/resources/#dota2map","title":"dota2://map","text":"<p>Full map geometry - towers, camps, runes, landmarks.</p> <pre><code>{\n  \"towers\": [\n    {\"name\": \"radiant_t1_mid\", \"team\": \"radiant\", \"tier\": 1, \"lane\": \"mid\", \"x\": -1544, \"y\": -1408},\n    {\"name\": \"dire_t1_mid\", \"team\": \"dire\", \"tier\": 1, \"lane\": \"mid\", \"x\": 524, \"y\": 652}\n  ],\n  \"barracks\": [\n    {\"name\": \"radiant_melee_mid\", \"team\": \"radiant\", \"lane\": \"mid\", \"type\": \"melee\", \"x\": -4672, \"y\": -4016}\n  ],\n  \"neutral_camps\": [\n    {\"name\": \"radiant_small_camp_1\", \"tier\": \"small\", \"side\": \"radiant\", \"x\": -3200, \"y\": -400}\n  ],\n  \"runes\": [\n    {\"type\": \"power\", \"location\": \"top\", \"x\": -1792, \"y\": 1232},\n    {\"type\": \"bounty\", \"location\": \"radiant_jungle\", \"x\": -4096, \"y\": -1664}\n  ],\n  \"landmarks\": [\n    {\"name\": \"roshan_pit\", \"x\": -2432, \"y\": 2016},\n    {\"name\": \"radiant_ancient\", \"x\": -6144, \"y\": -6016}\n  ]\n}\n</code></pre> <p>Coordinate system: - Center of map \u2248 (0, 0) - Radiant base = bottom-left (negative X, negative Y) - Dire base = top-right (positive X, positive Y) - Range: roughly -8000 to +8000</p> <p>Use for: Understanding death positions, analyzing rotations, tower/rax context.</p>"},{"location":"api/resources/#dota2matchmatch_idheroes","title":"dota2://match/{match_id}/heroes","text":"<p>The 10 heroes in a specific match with performance data.</p> <pre><code>dota2://match/8461956309/heroes\n</code></pre> <pre><code>{\n  \"heroes\": [\n    {\n      \"hero_id\": 1,\n      \"hero_name\": \"npc_dota_hero_antimage\",\n      \"localized_name\": \"Anti-Mage\",\n      \"team\": \"dire\",\n      \"player_name\": \"SteamUser123\",\n      \"pro_name\": null,\n      \"kills\": 8,\n      \"deaths\": 3,\n      \"assists\": 5,\n      \"last_hits\": 412,\n      \"gpm\": 652,\n      \"xpm\": 598,\n      \"net_worth\": 24500,\n      \"hero_damage\": 18200,\n      \"lane\": \"safelane\",\n      \"role\": \"core\",\n      \"items\": [\"item_manta\", \"item_bfury\", \"item_basher\", \"item_heart\", \"item_butterfly\", \"item_travel_boots\"],\n      \"neutral_item\": \"item_mind_breaker\"\n    }\n  ]\n}\n</code></pre> <p>Use for: Match context, hero matchups, team composition analysis.</p>"},{"location":"api/resources/#dota2matchmatch_idplayers","title":"dota2://match/{match_id}/players","text":"<p>Player info for a match.</p> <pre><code>dota2://match/8461956309/players\n</code></pre> <pre><code>{\n  \"players\": [\n    {\n      \"account_id\": 123456789,\n      \"player_name\": \"SteamUser123\",\n      \"pro_name\": null,\n      \"team\": \"dire\",\n      \"hero_id\": 1,\n      \"hero_name\": \"npc_dota_hero_antimage\",\n      \"localized_name\": \"Anti-Mage\"\n    }\n  ]\n}\n</code></pre> <p>Use for: Identifying players, looking up pros, correlating with external data.</p>"},{"location":"api/tools/","title":"Tools Reference","text":"<p>Tools are functions the LLM can call. All tools take <code>match_id</code> as required parameter.</p>"},{"location":"api/tools/#get_hero_deaths","title":"get_hero_deaths","text":"<p>All hero deaths in the match.</p> <pre><code>get_hero_deaths(match_id=8461956309)\n</code></pre> <p>Returns: <pre><code>{\n  \"total_deaths\": 45,\n  \"deaths\": [\n    {\n      \"game_time\": 288,\n      \"game_time_str\": \"4:48\",\n      \"victim\": \"earthshaker\",\n      \"killer\": \"disruptor\",\n      \"killer_is_hero\": true,\n      \"ability\": \"disruptor_thunder_strike\",\n      \"position\": {\"x\": 4200, \"y\": 1800, \"region\": \"dire_safelane\", \"location\": \"Dire safelane near tower\"}\n    }\n  ]\n}\n</code></pre></p>"},{"location":"api/tools/#get_combat_log","title":"get_combat_log","text":"<p>Raw combat events with optional filters.</p> <pre><code>get_combat_log(\n    match_id=8461956309,\n    start_time=280,      # optional: filter by time range\n    end_time=300,\n    hero_filter=\"earthshaker\"  # optional: only events involving this hero\n)\n</code></pre> <p>Returns: <pre><code>{\n  \"events\": [\n    {\n      \"type\": \"DAMAGE\",\n      \"game_time\": 285,\n      \"game_time_str\": \"4:45\",\n      \"attacker\": \"disruptor\",\n      \"attacker_is_hero\": true,\n      \"target\": \"earthshaker\",\n      \"target_is_hero\": true,\n      \"ability\": \"disruptor_thunder_strike\",\n      \"value\": 160\n    }\n  ]\n}\n</code></pre></p> <p>Event types: <code>DAMAGE</code>, <code>MODIFIER_ADD</code>, <code>MODIFIER_REMOVE</code>, <code>ABILITY</code>, <code>ITEM</code>, <code>DEATH</code>, <code>HEAL</code></p>"},{"location":"api/tools/#get_fight_combat_log","title":"get_fight_combat_log","text":"<p>Auto-detects fight boundaries around a reference time. Use this to analyze what happened leading up to a death.</p> <pre><code>get_fight_combat_log(\n    match_id=8461956309,\n    reference_time=288,    # e.g., death time\n    hero=\"earthshaker\"     # optional: anchor detection to this hero\n)\n</code></pre> <p>Returns: <pre><code>{\n  \"fight_start\": 280,\n  \"fight_end\": 295,\n  \"fight_start_str\": \"4:40\",\n  \"fight_end_str\": \"4:55\",\n  \"duration\": 15,\n  \"participants\": [\"earthshaker\", \"disruptor\", \"naga_siren\", \"medusa\"],\n  \"total_events\": 47,\n  \"events\": [...]\n}\n</code></pre></p>"},{"location":"api/tools/#get_item_purchases","title":"get_item_purchases","text":"<p>When items were bought.</p> <pre><code>get_item_purchases(\n    match_id=8461956309,\n    hero_filter=\"antimage\"  # optional\n)\n</code></pre> <p>Returns: <pre><code>{\n  \"purchases\": [\n    {\"game_time\": -89, \"game_time_str\": \"-1:29\", \"hero\": \"antimage\", \"item\": \"item_tango\"},\n    {\"game_time\": 540, \"game_time_str\": \"9:00\", \"hero\": \"antimage\", \"item\": \"item_bfury\"}\n  ]\n}\n</code></pre></p> <p>Negative times = purchased before horn (0:00).</p>"},{"location":"api/tools/#get_objective_kills","title":"get_objective_kills","text":"<p>Roshan, tormentor, towers, barracks.</p> <pre><code>get_objective_kills(match_id=8461956309)\n</code></pre> <p>Returns: <pre><code>{\n  \"roshan_kills\": [\n    {\"game_time\": 1392, \"game_time_str\": \"23:12\", \"killer\": \"medusa\", \"team\": \"dire\", \"kill_number\": 1}\n  ],\n  \"tormentor_kills\": [\n    {\"game_time\": 1215, \"game_time_str\": \"20:15\", \"killer\": \"medusa\", \"team\": \"dire\", \"side\": \"dire\"}\n  ],\n  \"tower_kills\": [\n    {\"game_time\": 669, \"game_time_str\": \"11:09\", \"tower\": \"dire_t1_mid\", \"team\": \"dire\", \"tier\": 1, \"lane\": \"mid\", \"killer\": \"nevermore\"}\n  ],\n  \"barracks_kills\": [\n    {\"game_time\": 2373, \"game_time_str\": \"39:33\", \"barracks\": \"radiant_melee_mid\", \"team\": \"radiant\", \"lane\": \"mid\", \"type\": \"melee\", \"killer\": \"medusa\"}\n  ]\n}\n</code></pre></p>"},{"location":"api/tools/#get_match_timeline","title":"get_match_timeline","text":"<p>Net worth, XP, KDA over time for all players.</p> <pre><code>get_match_timeline(match_id=8461956309)\n</code></pre> <p>Returns: <pre><code>{\n  \"players\": [\n    {\n      \"hero\": \"antimage\",\n      \"team\": \"dire\",\n      \"net_worth\": [500, 800, 1200, ...],  // every 30 seconds\n      \"hero_damage\": [0, 0, 150, ...],\n      \"kda_timeline\": [\n        {\"game_time\": 0, \"kills\": 0, \"deaths\": 0, \"assists\": 0, \"level\": 1},\n        {\"game_time\": 300, \"kills\": 0, \"deaths\": 0, \"assists\": 0, \"level\": 5}\n      ]\n    }\n  ],\n  \"team_graphs\": {\n    \"radiant_xp\": [0, 1200, 2500, ...],\n    \"dire_xp\": [0, 1100, 2400, ...],\n    \"radiant_gold\": [0, 600, 1300, ...],\n    \"dire_gold\": [0, 650, 1400, ...]\n  }\n}\n</code></pre></p>"},{"location":"api/tools/#get_stats_at_minute","title":"get_stats_at_minute","text":"<p>Snapshot of all players at a specific minute.</p> <pre><code>get_stats_at_minute(match_id=8461956309, minute=10)\n</code></pre> <p>Returns: <pre><code>{\n  \"minute\": 10,\n  \"players\": [\n    {\n      \"hero\": \"antimage\",\n      \"team\": \"dire\",\n      \"net_worth\": 5420,\n      \"last_hits\": 78,\n      \"denies\": 8,\n      \"kills\": 0,\n      \"deaths\": 0,\n      \"assists\": 0,\n      \"level\": 10,\n      \"hero_damage\": 450\n    }\n  ]\n}\n</code></pre></p>"},{"location":"api/tools/#get_courier_kills","title":"get_courier_kills","text":"<p>Courier snipes.</p> <pre><code>get_courier_kills(match_id=8461956309)\n</code></pre> <p>Returns: <pre><code>{\n  \"kills\": [\n    {\n      \"game_time\": 420,\n      \"game_time_str\": \"7:00\",\n      \"killer\": \"bounty_hunter\",\n      \"killer_is_hero\": true,\n      \"owner\": \"antimage\",\n      \"team\": \"dire\",\n      \"position\": {\"x\": 2100, \"y\": -1500, \"region\": \"river\", \"location\": \"River near Radiant outpost\"}\n    }\n  ]\n}\n</code></pre></p>"},{"location":"examples/use-cases/","title":"Real Use Cases","text":"<p>These are example conversations showing how an LLM uses the MCP tools to analyze matches.</p>"},{"location":"examples/use-cases/#analyzing-a-lost-teamfight","title":"Analyzing a Lost Teamfight","text":"<p>User: \"In match 8461956309, we lost a big fight around 25 minutes. What went wrong?\"</p> <p>LLM thinks: I need to find deaths around minute 25 and analyze the fight.</p> <p>LLM calls: <code>get_hero_deaths(match_id=8461956309)</code></p> <p>Tool returns: <pre><code>{\n  \"deaths\": [\n    {\"game_time\": 1487, \"game_time_str\": \"24:47\", \"victim\": \"pangolier\", \"killer\": \"medusa\", \"ability\": \"medusa_split_shot\"},\n    {\"game_time\": 1492, \"game_time_str\": \"24:52\", \"victim\": \"earthshaker\", \"killer\": \"disruptor\", \"ability\": \"disruptor_static_storm\"},\n    {\"game_time\": 1495, \"game_time_str\": \"24:55\", \"victim\": \"nevermore\", \"killer\": \"naga_siren\", \"ability\": \"naga_siren_rip_tide\"},\n    {\"game_time\": 1498, \"game_time_str\": \"24:58\", \"victim\": \"dawnbreaker\", \"killer\": \"medusa\", \"ability\": \"medusa_mystic_snake\"}\n  ]\n}\n</code></pre></p> <p>LLM calls: <code>get_fight_combat_log(match_id=8461956309, reference_time=1492, hero=\"earthshaker\")</code></p> <p>Tool returns: <pre><code>{\n  \"fight_start\": 1480,\n  \"fight_end\": 1502,\n  \"duration\": 22,\n  \"participants\": [\"pangolier\", \"earthshaker\", \"nevermore\", \"dawnbreaker\", \"medusa\", \"disruptor\", \"naga_siren\", \"luna\", \"necrophos\"],\n  \"events\": [\n    {\"type\": \"ABILITY\", \"game_time\": 1481, \"attacker\": \"earthshaker\", \"ability\": \"earthshaker_echo_slam\", \"value\": 0},\n    {\"type\": \"DAMAGE\", \"game_time\": 1481, \"attacker\": \"earthshaker\", \"target\": \"medusa\", \"ability\": \"earthshaker_echo_slam\", \"value\": 287},\n    {\"type\": \"MODIFIER_ADD\", \"game_time\": 1482, \"attacker\": \"disruptor\", \"target\": \"earthshaker\", \"ability\": \"disruptor_static_storm\"},\n    {\"type\": \"DAMAGE\", \"game_time\": 1485, \"attacker\": \"medusa\", \"target\": \"pangolier\", \"ability\": \"medusa_split_shot\", \"value\": 412},\n    ...\n  ]\n}\n</code></pre></p> <p>LLM responds:</p> <p>The fight at 24:47 was a disaster for Radiant. Here's what happened:</p> <ol> <li> <p>Earthshaker initiated with Echo Slam at 24:41, hitting all 5 Dire heroes but dealing low damage (287 on Medusa) - likely because enemies were spread out</p> </li> <li> <p>Disruptor immediately countered with Static Storm on Earthshaker, silencing him and preventing follow-up</p> </li> <li> <p>Medusa was the problem - she had Split Shot farming Pangolier while tanking the initiation, then cleaned up with 3 kills</p> </li> <li> <p>4 Radiant deaths in 11 seconds - Pangolier, Earthshaker, Nevermore, Dawnbreaker</p> </li> </ol> <p>The issue: Earthshaker jumped in without BKB against a Disruptor. The moment he was silenced, Radiant had no follow-up damage and Medusa shredded everyone.</p>"},{"location":"examples/use-cases/#tracking-carry-farm","title":"Tracking Carry Farm","text":"<p>User: \"How did their Anti-Mage get Battle Fury so fast in match 8461956309?\"</p> <p>LLM calls: <code>get_item_purchases(match_id=8461956309, hero_filter=\"antimage\")</code></p> <p>Tool returns: <pre><code>{\n  \"purchases\": [\n    {\"game_time\": -89, \"game_time_str\": \"-1:29\", \"item\": \"item_tango\"},\n    {\"game_time\": -89, \"game_time_str\": \"-1:29\", \"item\": \"item_quelling_blade\"},\n    {\"game_time\": -89, \"game_time_str\": \"-1:29\", \"item\": \"item_slippers\"},\n    {\"game_time\": 180, \"game_time_str\": \"3:00\", \"item\": \"item_ring_of_health\"},\n    {\"game_time\": 420, \"game_time_str\": \"7:00\", \"item\": \"item_boots\"},\n    {\"game_time\": 540, \"game_time_str\": \"9:00\", \"item\": \"item_bfury\"},\n    {\"game_time\": 780, \"game_time_str\": \"13:00\", \"item\": \"item_manta\"}\n  ]\n}\n</code></pre></p> <p>LLM calls: <code>get_stats_at_minute(match_id=8461956309, minute=9)</code></p> <p>Tool returns: <pre><code>{\n  \"players\": [\n    {\"hero\": \"antimage\", \"last_hits\": 78, \"net_worth\": 5420, \"kills\": 0, \"deaths\": 0},\n    {\"hero\": \"nevermore\", \"last_hits\": 62, \"net_worth\": 4100, \"kills\": 1, \"deaths\": 1}\n  ]\n}\n</code></pre></p> <p>LLM responds:</p> <p>Anti-Mage got a 9-minute Battle Fury, which is quite fast. Here's how:</p> <ul> <li>78 last hits by minute 9 - excellent lane farming</li> <li>0 deaths - completely free lane, no pressure</li> <li>Ring of Health at 3:00 - sustain let him stay in lane indefinitely</li> </ul> <p>Compare to Nevermore mid who had 62 CS but died once - that death probably cost 300-400 gold and 30 seconds of farm.</p> <p>The real question is why Radiant's offlane didn't pressure AM. A 9-minute BFury usually means the safelane was uncontested.</p>"},{"location":"examples/use-cases/#understanding-a-gank","title":"Understanding a Gank","text":"<p>User: \"I was playing Earthshaker and got killed at first blood. What could I have done differently?\"</p> <p>LLM calls: <code>get_hero_deaths(match_id=8461956309)</code></p> <p>Tool returns: <pre><code>{\n  \"deaths\": [\n    {\"game_time\": 288, \"game_time_str\": \"4:48\", \"victim\": \"earthshaker\", \"killer\": \"disruptor\", \"ability\": \"disruptor_thunder_strike\", \"position\": {\"x\": 4200, \"y\": 1800, \"region\": \"dire_safelane\"}}\n  ]\n}\n</code></pre></p> <p>LLM calls: <code>get_fight_combat_log(match_id=8461956309, reference_time=288, hero=\"earthshaker\")</code></p> <p>Tool returns: <pre><code>{\n  \"fight_start\": 280,\n  \"fight_end\": 290,\n  \"participants\": [\"earthshaker\", \"disruptor\", \"naga_siren\", \"medusa\"],\n  \"events\": [\n    {\"type\": \"MODIFIER_ADD\", \"game_time\": 281, \"attacker\": \"naga_siren\", \"target\": \"earthshaker\", \"ability\": \"naga_siren_ensnare\"},\n    {\"type\": \"DAMAGE\", \"game_time\": 282, \"attacker\": \"disruptor\", \"target\": \"earthshaker\", \"ability\": \"disruptor_thunder_strike\", \"value\": 160},\n    {\"type\": \"DAMAGE\", \"game_time\": 284, \"attacker\": \"medusa\", \"target\": \"earthshaker\", \"ability\": \"medusa_mystic_snake\", \"value\": 140},\n    {\"type\": \"DAMAGE\", \"game_time\": 286, \"attacker\": \"naga_siren\", \"target\": \"earthshaker\", \"value\": 58},\n    {\"type\": \"DEATH\", \"game_time\": 288, \"target\": \"earthshaker\", \"attacker\": \"disruptor\"}\n  ]\n}\n</code></pre></p> <p>LLM responds:</p> <p>Here's what happened at first blood (4:48):</p> <ol> <li>Naga Siren caught you with Ensnare at 4:41 - 3-second root</li> <li>Disruptor followed with Thunder Strike - 160 damage over time</li> <li>Medusa hit you with Mystic Snake - another 140 damage</li> <li>You died in 8 seconds without being able to act</li> </ol> <p>Position: You were at x:4200, y:1800 - that's deep in Dire safelane near the tower.</p> <p>What went wrong: You were too far forward against a Naga (root) + Disruptor (slow + damage) dual lane. Once Naga lands Ensnare, you have no escape without Fissure (and even then it's not a disjoint).</p> <p>What to do differently: - Stay near trees for juke paths - Don't contest pulls against this lane - Naga root is too punishing - Play for XP, not kills - ES needs level 6 to fight this lane</p>"},{"location":"examples/use-cases/#objective-control-analysis","title":"Objective Control Analysis","text":"<p>User: \"When did Roshan die and who took the Aegis?\"</p> <p>LLM calls: <code>get_objective_kills(match_id=8461956309)</code></p> <p>Tool returns: <pre><code>{\n  \"roshan_kills\": [\n    {\"game_time\": 1392, \"game_time_str\": \"23:12\", \"killer\": \"medusa\", \"team\": \"dire\", \"kill_number\": 1},\n    {\"game_time\": 2040, \"game_time_str\": \"34:00\", \"killer\": \"medusa\", \"team\": \"dire\", \"kill_number\": 2},\n    {\"game_time\": 2580, \"game_time_str\": \"43:00\", \"killer\": \"luna\", \"team\": \"dire\", \"kill_number\": 3},\n    {\"game_time\": 3120, \"game_time_str\": \"52:00\", \"killer\": \"medusa\", \"team\": \"dire\", \"kill_number\": 4}\n  ],\n  \"tower_kills\": [\n    {\"game_time\": 669, \"game_time_str\": \"11:09\", \"tower\": \"dire_t1_mid\", \"killer\": \"nevermore\"},\n    {\"game_time\": 1440, \"game_time_str\": \"24:00\", \"tower\": \"radiant_t1_bot\", \"killer\": \"medusa\"}\n  ]\n}\n</code></pre></p> <p>LLM responds:</p> <p>Roshan Timeline:</p> Rosh # Time Killer Team 1 23:12 Medusa Dire 2 34:00 Medusa Dire 3 43:00 Luna Dire 4 52:00 Medusa Dire <p>Dire took all 4 Roshans. Medusa got 3 of them personally - she was likely the Aegis carrier for most of the game.</p> <p>This is a big factor in why the game went late - Medusa with Aegis is extremely hard to kill, and Dire maintained complete Roshan control throughout.</p>"},{"location":"examples/use-cases/#comparing-laning-phase","title":"Comparing Laning Phase","text":"<p>User: \"Compare the midlaners at 10 minutes\"</p> <p>LLM calls: <code>get_stats_at_minute(match_id=8461956309, minute=10)</code></p> <p>Tool returns: <pre><code>{\n  \"players\": [\n    {\"hero\": \"nevermore\", \"team\": \"radiant\", \"last_hits\": 68, \"denies\": 12, \"net_worth\": 4800, \"kills\": 2, \"deaths\": 0, \"level\": 11},\n    {\"hero\": \"pangolier\", \"team\": \"dire\", \"last_hits\": 45, \"denies\": 3, \"net_worth\": 3200, \"kills\": 0, \"deaths\": 1, \"level\": 9}\n  ]\n}\n</code></pre></p> <p>LLM responds:</p> <p>Mid Lane at 10:00 - Nevermore vs Pangolier:</p> Stat Nevermore (Radiant) Pangolier (Dire) Last Hits 68 45 Denies 12 3 Net Worth 4,800 3,200 K/D/A 2/0/? 0/1/? Level 11 9 <p>Nevermore dominated the lane: - +23 CS advantage - +9 denies - +1,600 net worth - +2 levels</p> <p>Shadow Fiend's early damage from Necromastery stacks makes him strong in the 1v1. Pangolier likely struggled to last hit under tower after SF established raze control.</p>"},{"location":"getting-started/configuration/","title":"Connecting to LLMs","text":"<p>This server uses the Model Context Protocol (MCP) to communicate with LLMs. Here's how to connect it to different clients.</p>"},{"location":"getting-started/configuration/#claude-desktop","title":"Claude Desktop","text":"<p>Add to <code>~/.config/claude/claude_desktop_config.json</code> (Linux) or <code>~/Library/Application Support/Claude/claude_desktop_config.json</code> (macOS):</p> <pre><code>{\n  \"mcpServers\": {\n    \"dota2\": {\n      \"command\": \"uv\",\n      \"args\": [\"run\", \"python\", \"dota_match_mcp_server.py\"],\n      \"cwd\": \"/path/to/mcp_replay_dota2\"\n    }\n  }\n}\n</code></pre> <p>Restart Claude Desktop. You'll see a hammer icon indicating tools are available.</p>"},{"location":"getting-started/configuration/#claude-code-cli","title":"Claude Code CLI","text":"<p>Add to your project's <code>.mcp.json</code>:</p> <pre><code>{\n  \"mcpServers\": {\n    \"dota2\": {\n      \"command\": \"uv\",\n      \"args\": [\"run\", \"python\", \"/path/to/mcp_replay_dota2/dota_match_mcp_server.py\"]\n    }\n  }\n}\n</code></pre> <p>Or add globally to <code>~/.claude/settings.json</code>:</p> <pre><code>{\n  \"mcpServers\": {\n    \"dota2\": {\n      \"command\": \"uv\",\n      \"args\": [\"run\", \"python\", \"/path/to/mcp_replay_dota2/dota_match_mcp_server.py\"]\n    }\n  }\n}\n</code></pre>"},{"location":"getting-started/configuration/#openai-langchain","title":"OpenAI + LangChain","text":"<p>Use the <code>langchain-mcp-adapters</code> package to bridge MCP tools to LangChain:</p> <pre><code>import asyncio\nfrom langchain_openai import ChatOpenAI\nfrom langchain_mcp_adapters import MCPToolkit\nfrom langgraph.prebuilt import create_react_agent\n\nasync def main():\n    # Connect to MCP server\n    toolkit = MCPToolkit(\n        command=\"uv\",\n        args=[\"run\", \"python\", \"dota_match_mcp_server.py\"],\n        cwd=\"/path/to/mcp_replay_dota2\"\n    )\n\n    async with toolkit:\n        # Get tools as LangChain tools\n        tools = toolkit.get_tools()\n\n        # Create agent with OpenAI\n        llm = ChatOpenAI(model=\"gpt-4o\")\n        agent = create_react_agent(llm, tools)\n\n        # Ask about a match\n        response = await agent.ainvoke({\n            \"messages\": [{\"role\": \"user\", \"content\": \"Analyze match 8461956309. What happened at first blood?\"}]\n        })\n        print(response[\"messages\"][-1].content)\n\nasyncio.run(main())\n</code></pre>"},{"location":"getting-started/configuration/#custom-python-client","title":"Custom Python Client","text":"<p>Use the <code>mcp</code> package directly:</p> <pre><code>import asyncio\nfrom mcp import ClientSession, StdioServerParameters\nfrom mcp.client.stdio import stdio_client\n\nasync def main():\n    server_params = StdioServerParameters(\n        command=\"uv\",\n        args=[\"run\", \"python\", \"dota_match_mcp_server.py\"],\n        cwd=\"/path/to/mcp_replay_dota2\"\n    )\n\n    async with stdio_client(server_params) as (read, write):\n        async with ClientSession(read, write) as session:\n            await session.initialize()\n\n            # List available tools\n            tools = await session.list_tools()\n            print(\"Available tools:\", [t.name for t in tools.tools])\n\n            # Call a tool\n            result = await session.call_tool(\n                \"get_hero_deaths\",\n                arguments={\"match_id\": 8461956309}\n            )\n            print(result.content)\n\nasyncio.run(main())\n</code></pre>"},{"location":"getting-started/configuration/#fastmcp-client-recommended-for-python","title":"FastMCP Client (Recommended for Python)","text":"<p>Since this server is built with FastMCP, you can use the FastMCP client:</p> <pre><code>import asyncio\nfrom fastmcp import Client\n\nasync def main():\n    async with Client(\"uv run python dota_match_mcp_server.py\") as client:\n        # Call tools directly\n        deaths = await client.call_tool(\n            \"get_hero_deaths\",\n            match_id=8461956309\n        )\n        print(f\"Total deaths: {deaths['total_deaths']}\")\n\n        # Get resources\n        heroes = await client.get_resource(\"dota2://heroes/all\")\n        print(f\"Total heroes: {len(heroes)}\")\n\nasyncio.run(main())\n</code></pre>"},{"location":"getting-started/configuration/#anthropic-api-direct","title":"Anthropic API Direct","text":"<p>For programmatic access with Claude API:</p> <pre><code>import anthropic\n\nclient = anthropic.Anthropic()\n\n# Define MCP tools for Claude\ntools = [\n    {\n        \"name\": \"get_hero_deaths\",\n        \"description\": \"Get all hero deaths in a Dota 2 match\",\n        \"input_schema\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"match_id\": {\"type\": \"integer\", \"description\": \"The match ID\"}\n            },\n            \"required\": [\"match_id\"]\n        }\n    },\n    # ... other tools\n]\n\nresponse = client.messages.create(\n    model=\"claude-sonnet-4-20250514\",\n    max_tokens=4096,\n    tools=tools,\n    messages=[\n        {\"role\": \"user\", \"content\": \"Analyze match 8461956309\"}\n    ]\n)\n\n# Handle tool calls in your code by calling the MCP server\n</code></pre>"},{"location":"getting-started/configuration/#environment-variables","title":"Environment Variables","text":"Variable Description Default <code>OPENDOTA_API_KEY</code> OpenDota API key for higher rate limits None"},{"location":"getting-started/configuration/#data-directories","title":"Data Directories","text":"Directory Purpose <code>data/constants/</code> Hero, item, ability data from dotaconstants <code>~/dota2/replays/</code> Downloaded replay files (.dem) <p>Replays are downloaded automatically when needed and cached locally.</p>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.12</li> <li>uv package manager</li> </ul>"},{"location":"getting-started/installation/#install","title":"Install","text":"<pre><code>git clone https://github.com/DeepBlueCoding/mcp_replay_dota2.git\ncd mcp_replay_dota2\nuv sync\n</code></pre>"},{"location":"getting-started/installation/#verify","title":"Verify","text":"<pre><code>uv run python dota_match_mcp_server.py\n</code></pre> <p>You should see: <pre><code>Dota 2 Match MCP Server starting...\nResources: dota2://heroes/all, dota2://map, ...\nTools: get_hero_deaths, get_combat_log, ...\n</code></pre></p>"},{"location":"getting-started/installation/#next-step","title":"Next Step","text":"<p>Connect to your LLM</p>"}]}